# Environment configuration for {{ environment | upper }}
# Generated by Ansible on {{ ansible_date_time.iso8601 }}

# Database configuration
POSTGRES_DB={{ postgres_db | default('crypto_forecasting') }}
POSTGRES_USER={{ postgres_user | default('postgres') }}
POSTGRES_PASSWORD={{ postgres_password | default('postgres123') }}
POSTGRES_HOST={{ postgres_host | default('postgres') }}
POSTGRES_PORT={{ postgres_port | default('5432') }}

# Redis configuration
REDIS_HOST={{ redis_host | default('redis') }}
REDIS_PORT={{ redis_port | default('6379') }}
REDIS_DB={{ redis_db | default('1') }}

# Application configuration
APP_ENV={{ environment | default('production') }}
APP_PORT={{ app_port | default('5000') }}
DEBUG={{ debug_mode | default('false') }}

# ML Configuration
MODEL_PATH=/app/models
DATA_PATH=/app/data
PREDICTIONS_PATH=/app/predictions

# Logging
LOG_LEVEL={{ log_level | default('INFO') }}
LOG_FILE=/app/logs/app.log

# API Keys (set these in your inventory or vault)
ALPHA_VANTAGE_API_KEY={{ alpha_vantage_api_key | default('') }}
COINAPI_KEY={{ coinapi_key | default('') }}

# Security
SECRET_KEY={{ secret_key | default('your-secret-key-change-in-production') }}

# Airflow (if enabled)
{% if enable_airflow | default(false) %}
AIRFLOW__CORE__EXECUTOR=LocalExecutor
AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=postgresql+psycopg2://{{ postgres_user | default('postgres') }}:{{ postgres_password | default('postgres123') }}@postgres:5432/{{ postgres_db | default('crypto_forecasting') }}
AIRFLOW__CORE__FERNET_KEY={{ airflow_fernet_key | default('') }}
AIRFLOW__WEBSERVER__SECRET_KEY={{ airflow_secret_key | default('') }}
{% endif %}
